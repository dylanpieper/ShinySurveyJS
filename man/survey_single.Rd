% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/server.R
\name{survey_single}
\alias{survey_single}
\title{Create a Single Survey}
\usage{
survey_single(
  json,
  show_response = TRUE,
  theme = "defaultV2",
  theme_color = "#003594",
  theme_mode = "light",
  shiny_config = NULL,
  db_config = list(host = Sys.getenv("HOST"), port = as.numeric(Sys.getenv("PORT")),
    db_name = Sys.getenv("DB_NAME"), user = Sys.getenv("USER"), password =
    Sys.getenv("PASSWORD"), write_table = Sys.getenv("WRITE_TABLE"), log_table =
    Sys.getenv("LOG_TABLE"))
)
}
\arguments{
\item{json}{Survey JSON string or object}

\item{show_response}{Logical to show responses}

\item{theme}{Theme name}

\item{theme_color}{Primary color hex}

\item{theme_mode}{Color mode}

\item{shiny_config}{Shiny configuration}

\item{db_config}{Database configuration}
}
\value{
A Shiny application object

Shiny application object
}
\description{
Creates a Shiny application for a single survey with database integration.
Responses are stored in a PostgreSQL database with configurable table name.
}
\examples{
\dontrun{
library(shinysurveyjs)

# Define a package feedback survey with rating and conditional comment
survey <- '{
  "title": "R Package Feedback",
  "pages": [
    {
      "name": "userInfo",
      "elements": [
        {
          "type": "rating",
          "name": "rating",
          "title": "Please rate the shinysurveyjs 📦:",
          "rateValues": [
            {"value": 1, "text": "⭐"},
            {"value": 2, "text": "⭐⭐"},
            {"value": 3, "text": "⭐⭐⭐"},
            {"value": 4, "text": "⭐⭐⭐⭐"},
            {"value": 5, "text": "⭐⭐⭐⭐⭐"}
          ],
          "rateMax": 5
        },
        {
          "type": "comment",
          "name": "feedback",
          "visibleIf": "{rating} notempty",
          "title": "Why did you rate it {rating} stars?",
          "rows": 2
        }
      ]
    }
  ]
}'

# Create and launch the survey application
survey_single(
  json = survey,
  show_response = TRUE,
  theme_color = "#00AD6E",
  theme_mode = "dark",
  shiny_config = list(
    host = "0.0.0.0",
    port = 3838,
    sanitize_errors = TRUE,
    autoreload = FALSE
  ),
  db_config = list(
    host = "pooler.supabase.com",
    port = 5432,
    dbname = "postgres",
    user = Sys.getenv("DB_USER"),
    password = Sys.getenv("DB_PASSWORD"),
    write_table = "survey_package_feedback"
  )
)
}

}
